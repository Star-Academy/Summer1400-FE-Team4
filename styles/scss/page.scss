@import url(main.css);

$density-smallest: 0.1rem;
$density-smaller: 0.2rem;
$density-small: 0.5rem;
$density-normal: 1rem;
$density-large: 2rem;
$density-larger: 4rem;
$density-largest: 8rem;

// pallete: https://colorhunt.co/palette/2c2e43595260b2b1b9ffd523
$color-primary: #FFD523;
$color-light: #B2B1B9;
$color-medium: #595260;
$color-dark: #2C2E43;

$color-lightest: lighten($color-light, 40%);
$color-lighter: lighten($color-light, 20%);
$color-darker: darken($color-dark, 5%);
$color-darkest: darken($color-dark, 10%);

:root {
  --card-min-width: 20rem;
}

html {
  scroll-behavior: smooth;
}

ul {
  list-style: none;
}

a {
  color: inherit;
  text-decoration: none;
}

a, abbr, acronym, address, applet, article, aside, audio,
b, big, blockquote, body, canvas, caption, center, cite, code,
dd, del, details, dfn, div, dl, dt, em, embed,
fieldset, figcaption, figure, footer, form,
h1, h2, h3, h4, h5, h6, header, hgroup, html, i, iframe, img, ins,
kbd, label, legend, li, mark, menu, nav, object, ol, output,
p, pre, q, ruby, s, samp, section, small, span, strike, strong, sub, summary, sup,
table, tbody, td, tfoot, th, thead, time, tr, tt, u, ul, var, video {
  border: 0;
  margin: 0;
  padding: 0;
  vertical-align: baseline;
}

body {
  box-sizing: content-box;
  min-height: 100vh;
  margin: auto;
  font-size: 1.6rem;

  background-color: $color-dark;
  color: $color-light;
}

input, button {
  color: inherit;
  font-size: inherit;
}

input[type="search"]::-webkit-search-decoration,
input[type="search"]::-webkit-search-cancel-button,
input[type="search"]::-webkit-search-results-button,
input[type="search"]::-webkit-search-results-decoration {
  -webkit-appearance:none;
}

// to get rid of chrome's autocomplete styles, this trick "just works" (tm):
input:-webkit-autofill,
input:-webkit-autofill:focus {
  transition: background-color 600000s 0s, color 600000s 0s;
}

.page {
  display: grid;
  grid-template-columns: 1fr auto;
  grid-template-rows: auto 1fr;
  grid-template-areas:
    "top-bar      side-bar"
    "page-content side-bar";

  > .page-inner {
    width: 100%;
  }
}

.side-bar {
  grid-area: side-bar;

  width: fit-content;
  background-color: $color-darkest;

  > .side-bar-inner {

    display: flex;
    flex-direction: column;
    gap: $density-normal;
    padding: $density-small;

    position: sticky;
    top: 0;

    > .side-logo {
      display: flex;
      gap: $density-normal;
      align-items: center;
      
      color: $color-primary;
      padding: $density-large;
    
      > .logo-image {
        display: inline;
        width: 4rem;
        height: 4rem;
      }
      > h3 {
        font-size: 1.5em;
      }
    }

    > nav {
      font-weight: bold;

      > ul {
        display: flex;
        flex-direction: column;

        .icon {
          width: 2.5rem;
          height: 2.5rem;
        }

        .icon-desc {
          margin-right: $density-normal;
          width: max-content;
        }
      }
    }
  }
}

.top-bar {
  position: sticky;
  top: 0;
  z-index: 1;
  background-color: $color-darker;
  grid-area: top-bar;

  > nav {
    display: flex;
    flex-direction: row-reverse;
    align-items: center;
    justify-content: space-between;
    padding: $density-normal;

    > ul {
      display: flex;
      flex-direction: row-reverse;

      > li {
        margin: 0 $density-normal;
      }
    }

    > .search-box {
      display: flex;
      flex-direction: row;
      align-items: center;
      margin: 0 $density-normal;

      height: fit-content;
      width: 20rem;
      border-radius: 1000rem;
      border: 0.1rem solid $color-light;
      background-color: inherit;
      transition: 100ms ease-in-out;

      &:hover {
        border-color: $color-lighter;
      }

      > input {
        background-color: transparent;
        border: none;

        padding: $density-small $density-normal $density-small 0;
        width: 100%;
        outline: none;
        color: inherit;
      }

      > button {
        border: none;
        border-radius: 100%;
        background-color: transparent;
        cursor: pointer;

        display: flex;
        align-items: center;
        justify-content: center;
        width: 4rem;
        height: 100%;
        transition: 100ms ease-in-out;

        &:hover {
          color: $color-lighter;
        }
      }
    }
  }
}

.page-content {
  grid-area: page-content;

  display: flex;
  flex-direction: column;
  justify-content: space-between;
}

footer {
  background-color: $color-darkest;
  padding: $density-normal $density-large;
}

.button-pill {
  display: inline-block;
  border-radius: 1000rem;
  border: 0.1rem solid $color-light;
  padding: $density-small $density-normal;
  transition: 100ms ease-in-out;

  &:hover {
    color: $color-lighter;
    border-color: $color-lighter;
  }
}

.button-block {
  display: flex;
  flex-direction: row;
  align-items: center;
  padding: $density-normal $density-large;
  border-radius: $density-small;
  transition: 100ms ease-in-out;

  &:hover {
    background-color: $color-darker;
  }

  &.selected {
    background-color: $color-dark;
  }
}

.icon {
  width: 2rem;
  height: 2rem;
}

.shelf {

  padding: $density-normal;

  .shelf-title {
    padding: $density-normal;
    color: $color-lighter;
  }


  .shelf-items {
    display: grid;
    overflow: hidden;
    grid-template-columns: repeat(auto-fill, minmax(var(--card-min-width), 1fr));
    grid-template-rows: 1fr;
    grid-auto-rows: 0;

    // fix hidden overflow problem when hovering on cards
    margin: -$density-normal;
    padding: $density-normal;

    > * {
      margin: $density-normal;
    }

    .shelf-card {
      display: flex;
      flex-direction: column;
      height: 100%;

      padding: $density-normal;
      background-color: $color-darker;
      border-radius: $density-small;
      gap: $density-normal;
    
      transition: 200ms ease-in-out;

      > .card-image {
        width: 100%;
        padding-bottom: 100%;
        position: relative;

        > img {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          border-radius: $density-small;
        }
      }

      > span {
        text-align: center;
        color: $color-lighter;
      }

      &:hover {
        transform: scale(1.1);
      }
    }
  }
}

